# 绘制范围

![漫画。与上一章相同的人物站在另一个人物的办公桌旁。第一个人双手叉腰问道：项目进行得怎么样？右边的人指着一台有地图的监视器。地图勾勒出各个领地，其中一些内部有对勾。一个对话框说：“‘Compose’和‘Store’正在运作。我们现在开始‘Send’。”](/assets/intro_cartoon_10.png)

在上一章中，我们通过提前完成一个整合切片来启动了项目。这种做法属于团队可以在整个项目中使用的更一般的技术。

## 按结构组织，而不是按人员

当要求为项目组织任务时，人们常常会按人员或角色进行分工：他们会为设计人员创建一个列表，为程序员创建一个列表。这会导致我们在上一章中讨论的问题——人们会完成任务，但任务不会很早地汇总成项目的一个完成部分。

以软件之外的例子来说明，考虑有人组织一个筹款活动。他们可以为他们的三个志愿者中的每个人创建一个任务列表，并以此跟踪工作。但是这样就无法看到活动进展的整体情况——宏观上哪些已完成，哪些尚未完成。相反，他们应该根据项目的_结构_创建列表——可以独立完成并独立于彼此的事情。为此，他们将创建食品菜单、场地设置和灯光/声音等列表。然后组织者就可以轻松地看到哪些区域已完成，哪些区域还有待工作。

在产品开发中，这些类别并不是预先为我们准备好的。我们通常会构建以前从未构建过的东西。每个项目都是我们必须步行穿过的一片未知领地，然后才能绘制地图。通过深入工作，我们找出了相互依赖的地方、事物的联系以及我们可以分割的内容。

正如我们在上一章中看到的，工作的切片集成了前端和后端任务。这使我们能够完成实际项目的一个切片并明确地继续进行下去。这比在周期结束时有许多——指望着——应该能够组合在一起的碎片要好。

我们将这些集成的项目切片称为`范围`。我们将项目的整体范围（单数）分解为可以独立完成的多个范围（复数）。在本章中，我们将看到团队如何将项目映射到范围并逐个应对它们。

## 范围图

想象一下项目的俯视图。一开始，只有来自前期塑造工作的大纲。还没有任务或范围。

![绘图：一个封闭的、轮廓模糊的大纲，里面什么都没有。](/assets/map_outline.png)

当团队成员接手项目时，他们开始发现任务。任务是一个自然的起点，因为它们是具体和细粒度的。现在将它们组织成更高级别的分类还为时过早。试图人为地将它们分组是不自然的。一开始捕捉需要发生的各种事情就足够了。

![绘图：相同的轮廓，内部填充了几十个微小的点。](/assets/map_tasks.png)

但我们不希望长时间停留在这个画面中。它的层次太低了。高空视角什么也看不到。

随着团队开始在项目上进行真正的工作，他们了解了任务之间的关系以及项目的真实结构。然后他们可以将项目分解为范围。这就像将项目的地图划分为独立的领地。

![绘图：相同的轮廓现在被划分为像地图上的州那样的边界线。区域标有：表单上的字段、预设位置、迁移事件和列表上的显示。](/assets/map_scopes.png)

范围反映了问题的有意义的部分，可以在较短的时间内——几天或更短——独立完成。它们比任务要大得多，但远比整体项目要小得多。

地图是一种心理形象。在实践中，我们将范围定义并跟踪为待办事项列表。每个范围对应一个列表名称。然后该范围的任何任务都放入该列表。

![在 Basecamp 中待办事项列表的截图。待办事项列表的名称对应上图中的区域。每个列表下面有几个条目。](/assets/scopes_as_tasks.png)

## 项目的语言

范围不仅仅是切片。它们成为了项目在宏观水平上的语言。当我们构建“项目中的客户”功能时，团队使用了这样的范围语言：“_Bucket Access_完成后，我们可以实现_邀请客户_。然后当公司内的人翻转_可见性切换_时，我们将_更新录像可见性_。”

在汇报状态时，团队使用范围的语言来解释哪些已完成，哪些尚未完成。与其深入到琐事中并辩解各个未完成任务的目的和状态，以宏观水平展示已完成的软件部分会更令人满意。 （在下一章中，我们将了解如何使用山图表报告范围的更多信息。）

## 案例研究：消息草稿

一位设计师和一位程序员正在开发一个新应用中创建和保存消息草稿的功能。在启动后，他们确定了一堆任务，他们需要随时完成。

![左侧，代表项目的封闭轮廓，内部有散落的点。右侧，名为“未划定范围”的待办事项列表，有十个看似不相关的任务。](/assets/drafts_1.png)

在第一周接近结束时，他们完成了一些任务，但他们没有可以展示他们工作成果的东西。秉持“完成一部分”精神，他们专注于一个关键互动，即创建一个新的草稿。

他们将新的范围命名为“开始新的”，为其创建了一个待办事项列表，并将待办事项移到其中。现在只剩下一个设计任务让他们考虑这个范围是否完成。

![轮廓中的一个区域用边界标记为“开始新的”。右侧，待办事项列表被分成两个：一个名为“开始新的”的新列表，其中有三个前一个列表中的项目，以及其他剩余项目在下方的未划定范围列表，现在少了三个项目。开始新的列表中有一个设计任务还未完成。](/assets/drafts_2.png)

完成了一个设计任务后，范围就完成了。

![标记为“开始新的”的区域现在被打上了勾。右侧，“开始新的”待办事项列表已经消失，而“未划定范围”列表依然存在。](/assets/drafts_3.png)

剩下的未划定范围中的任务并不代表所有尚未完成的工作。当他们开始处理每个任务时，会发现更多的任务。尽管如此，在工作的多样性足以挖掘出更多的范围。团队在这个时候已经有动力提前拆分范围，因为他们知道他们希望他们的努力很快就能汇总成另一个可见的完成部分。

看看剩下的任务，他们决定将与查找草稿相关的任务分成一个新的范围，称为“定位”，将删除任务分成一个名为“废纸篓”的范围。剩下的工作似乎都与保存和编辑草稿有关，所以他们将其称为“保存/编辑”。

![地图现在被划分为三个区域，除了已勾选的区域外：废纸篓、定位和保存/编辑。右侧，对应相同区域的待办事项列表出现。保存/编辑列表中的项目最多。未划定范围列表已经消失，因为其中的项目已经分配到新的列表中。](/assets/drafts_4.png)

看看“定位”范围。目前只有一个任务。但肯定会有更多的工作要做，而不仅仅是设计索引。当需要执行任务时，它们将放在这里。

设计师开始了一些定位工作，而程序员则专注于保存/编辑。当她深入研究时，她注意到她可以切割出一些部分以取得更多的可见进展。事实上，它包含了三个范围。

首先，她将与发送草稿消息相关的工作分出来。她称之为“发送”。

![保存/编辑区域进一步细分，内部标记为“发送”。右侧出现两个名为“发送”的项目，而保存/编辑列表相应地变短了。](/assets/drafts_5.png)

最后，剩下的一些保存/编辑任务是关于存储信息的，而另一个与之实际上无关——它是处理回复另一条消息时的特殊情况。她将这些任务分成两个新的范围：存储和回复。

![原先标为保存/编辑的区域被划分成两个，加上新的边界。新的两个范围名为存储和回复。右侧出现了与地图插图中相同的五个范围对应的待办事项列表：发送、存储、回复、废纸篓和定位。每个列表中有一到三个项目。](/assets/drafts_6.png)

此时，团队突然觉得他们能够从宏观水平上看到整个项目的全貌。作为范围，所有重要的部分都在宏观层面上可见。它们中没有一个太大，以至于重要的或具有挑战性的任务能够在其中不被注意地隐藏起来。

与此同时，设计师在定位方面取得了一些进展。稍微进行了一些布线后，他们就能够标记为已完成。发送和存储的任务也在进行中。

![定位标记为已完成。右侧的列表消失。](/assets/drafts_7.png)

一旦发送和存储完成后，只剩下一些任务需要处理废纸篓和回复。

![发送和存储被标记为已完成。现在地图上只剩下了回复和废纸篓，右侧的列表也是如此。](/assets/drafts_8.png)

然后项目就完成了。

![地图上的每个区域都被打上了勾。右侧没有待办事项。](/assets/drafts_9.png)

## 发现范围

范围映射并不是计划。你需要在绘制地图之前走遍整个领域。正确绘制的范围并不是为了整洁而任意分组或分类。它们反映了可以独立完成的真实地面事实——问题中的基本相互依赖和关系。

范围源自相互依赖。部分之间的依赖关系决定了何时可以说某项工作“完成”。你事先不知道工作和相互依赖实际上是什么。我们之前谈到过想象与发现的任务。同样的原则也适用于范围。范围需要通过实际工作的过程中发现，看看事物如何连接或不连接。

这就是为什么在项目开始时，我们不指望看到准确的范围。我们更可能在第一周结束或第二周开始后看到它们，团队有机会做一些真正的工作，找到问题结构中的自然分界线。

在一开始，范围出现一些调整和不稳定是正常的。随着团队摸索出边界的真正位置，线条会被重新绘制或范围会被重命名，就像上面的例子一样。团队专注于保存和编辑草稿的特定问题，所以很容易早期确定该范围。直到他们深入细节，才注意到有关发送草稿的具体任务，并将其作为单独的范围。

## 如何知道范围是否正确

合理的范围展现了项目的结构。当你感到身体疼痛时，你不必质疑它是在手臂、腿还是头部。你知道身体的部位和名称，这样你就可以解释疼痛的位置。同样，每个项目都有一个自然的结构，这源自你想要的设计、你所在的系统以及你必须解决的问题的相互依赖关系。

以下三个迹象表明范围正确：

1. 你觉得自己可以看到整个项目，没有重要的事情被隐藏在细节中令你担忧。
2. 项目的讨论变得更加流畅，因为范围给了你正确的语言。
3. 当出现新任务时，你知道在哪里放置它们。范围就像容器，你可以轻松地把新任务放进去。

另一方面，以下三个迹象表明应重新绘制范围：

1. 很难说一个范围何时“完成”。这通常发生在范围内的任务是无关联的情况。如果范围内的问题是毫无关联的，完成一个任务并不会让你更接近完成另一个任务。在这种情况下，最好寻找一些你可以分解的部分，就像草稿的例子一样。
2. 名称不是项目独有的，比如“前端”或“错误”。我们把这些称为“杂物箱”和“杂物抽屉”。这说明你的整合还不够，因此你永远无法独立地标记完成一个范围。例如，对于错误，最好将它们归类到特定的范围下，这样你就可以知道，例如，“发送”是否完成，或者在把它忘记之前是否需要先修复几个错误。
3. 太大，无法很快完成。如果一个范围变得太大，包含了太多任务，它就会变成一个长期的主任务清单，带有所有的缺陷。最好将其分解成可以在较短时间内解决的部分，这样在解决问题的过程中就会有胜利，同时也有了问题之间的边界。

让我们以一些处理不同类型任务和范围的小贴士结束本章。

## 分层蛋糕

大多数软件项目需要一些 UI 设计和薄薄的代码层。想象一个数据库应用程序，你只需要输入信息、保存它，并将其显示出来。这类工作看起来像一个“分层蛋糕”：你可以通过 UI 表面积来评估工作，因为后端工作薄而均匀分布。在这种情况下，你可以将所有设计和程序员任务集成到同一个范围内。对于大多数“信息系统”类型的应用来说，这是一个很好的默认选择。

![两个正方形平面代表前端和后端，它们排列得看起来像一块蛋糕有两层。'分层蛋糕'被等距地绘制。在侧面，一个三维坐标轴被标记了出来。垂直轴标记为构建努力，两个水平轴标记为功能性。蛋糕的切片宽而深，两层很薄。](/assets/layer_cake.png)

## 冰山

但有时后端工作要比 UI 工作多得多，或者相反。例如，一个只需要提交表单的新功能可能需要非常复杂的业务逻辑来返回正确的答案。这种工作就像一座冰山。

![一个冰山被绘制出来，使用相同的三维坐标轴：高度表示构建努力，宽度和深度表示功能性。虚线标记了水线。水线上面的小区域标记为前端，下面的大部分标记为后端。](/assets/iceberg.png)

对于冰山，将 UI 作为一个独立的工作范围可能会有所帮助（假设 UI 与后端复杂性无关）。如果后端足够复杂，你可以将其拆分为独立的部分，然后将其转化为范围。在这种情况下的目标是定义一些不同的事物，可以分阶段完成和集成，而不是等到最后一刻，指望一切都能顺利进行。

有时你也会看到颠倒的冰山，其中 UI 复杂性很大，而后端复杂性较小。例如，日历的数据模型并不复杂，但渲染多天事件并跨越网格单元可能需要大量时间和问题解决。

对于后端和前端冰山，我们总是要质疑它们，然后才接受它们作为事实。复杂性真的是必要的且不可简化吗？我们需要那种花哨的 UI 吗？是否有不同的方式来构建后端流程，使其与系统的其他部分的相互依赖性更少？

## 杂烩

几乎总会有一些不适合放入范围的任务。我们允许自己有一个“杂烩”清单，用于放置不属于任何范围的松散任务。但我们总是保持怀疑的眼光。如果它的长度超过三到五个项目，那就有些可疑，可能有范围需要绘制。

## 用~标记好做的事项

随着你深入问题，不断出现新任务。你会发现代码可以整理，需要处理边缘情况，并改进现有功能。处理所有这些改进的一个好方法是将它们记录为范围内的任务，但在前面加上一个~。这样，团队中的每个人都可以不断地将“必须做”的与“可以做”的分开。

在没有截止日期的世界里，我们可以永远改进。但在有限的时间框架内，我们需要一把砍刀来减少不断增长的范围。在一个项目或整个范围的开头加上~是我们的最佳工具。当我们谈到在第 14 章[决定何时停止](3.5-chapter-14.md)中删减范围时，我们还会回到这个技巧。
